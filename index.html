<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>記憶翻牌遊戲</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@700&display=swap" rel="stylesheet">
    <link rel="icon" href="img/maplestory_title.png" type="image/png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>記憶翻牌遊戲</h1>
    <audio id="bgm" src="audio/01_一般/maplestory_bg.mp3" loop></audio>
    <div id="countdown">3</div>

    <div class="d-flex gap-2 justify-content-center mt-3">
        <button id="startBtn" class="btn btn-custom btn-start">遊戲開始</button>
        <button id="pauseBtn" class="btn btn-custom btn-pause" disabled>暫停</button>
        <button id="settingsBtn" class="btn btn-custom btn-settings" data-bs-toggle="modal" data-bs-target="#settingsModal">設定</button>
    </div>

    <div id="stats">
        <div>步數：<span id="moves">0</span></div>
        <div>時間：<span id="timer">0:00</span></div>
    </div>

    <div id="sceneWrapper">
        <div class="game-board" id="gameBoard"></div>
    </div>
    
    <button id="leftSceneBtn" class="scene-btn left-btn">❮</button>
    <button id="rightSceneBtn" class="scene-btn right-btn">❯</button>    

    <div class="modal fade" id="winModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">遊戲完成！</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    您耗時 <span id="finalTimeWin">0:00</span> ，使用 <span id="finalMovesWin">0</span> 步，找到了全部的卡片！
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="playAgainWinBtn" data-bs-dismiss="modal">再玩一次</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="failModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">遊戲結束!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    您耗時 <span id="finalTimeFail">0:00</span> ，使用 <span id="finalMovesFail">0</span> 步，找到了 <span id="finalPairsFail">0</span> 組卡片
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="playAgainFailBtn" data-bs-dismiss="modal">再玩一次</button>
                </div>
            </div>
        </div>
    </div>    

    <div class="modal fade" id="pauseModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-center">
                <div class="modal-header">
                    <h5 class="modal-title">遊戲暫停</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body"><p>遊戲時間已暫停</p></div>
                <div class="modal-footer d-flex justify-content-between">
                    <button id="continueBtn" class="btn btn-success-custom" data-bs-dismiss="modal">繼續遊戲</button>
                    <button id="giveUpBtn" class="btn" data-bs-dismiss="modal">放棄遊戲</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="settingsModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">設定</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex align-items-center gap-2">
                        <span>音量：</span>
                        <button id="muteBtn" class="btn btn-light">🔊</button>
                        <input id="volumeSlider" type="range" min="0" max="100" value="100">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.2/lottie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>